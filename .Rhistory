theme(plot.title = element_text(hjust = 0.5))
plt.alim <- ggplot(totais.alim,
aes(x=mes, y=total, colour=ano, group=ano)) +
# geom_errorbar(aes(ymin=total-std, ymax=total+std), width=.1) +
geom_hline(yintercept="mean", linetype="dashed", color = "red") +
geom_line() + geom_point() +
facet_grid(ano ~.) +
labs(title="Gastos - alimentação", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
plt.alim
plt.alim <- ggplot(totais.alim,
aes(x=mes, y=total, colour=ano, group=ano)) +
# geom_errorbar(aes(ymin=total-std, ymax=total+std), width=.1) +
geom_hline(yintercept="mean", linetype="dashed", color = "red") +
geom_line() + geom_point() +
facet_grid(ano ~., space = "free", scales = "free_x") +
labs(title="Gastos - alimentação", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
plt.alim
plt.alim <- ggplot(totais.alim,
aes(x=mes, y=total, colour=ano, group=ano)) +
# geom_errorbar(aes(ymin=total-std, ymax=total+std), width=.1) +
# geom_hline(yintercept="mean", linetype="dashed", color = "red") +
# geom_line() +
geom_line(stat = "hline", yintercept = "mean", aes(colour = ano))
geom_point() +
facet_grid(ano ~., space = "free", scales = "free_x") +
labs(title="Gastos - alimentação", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
plt.alim <- ggplot(totais.alim,
aes(x=mes, y=total, colour=ano, group=ano)) +
# geom_errorbar(aes(ymin=total-std, ymax=total+std), width=.1) +
# geom_hline(yintercept="mean", linetype="dashed", color = "red") +
# geom_line() +
geom_line(stat = "hline", yintercept = "mean", aes(colour = ano))
geom_point() +
facet_grid(ano ~.) +
labs(title="Gastos - alimentação", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
str(totais.alim)
plt.alim <- ggplot(totais.alim,
aes(x=mes, y=total, colour=ano, group=ano)) +
# geom_errorbar(aes(ymin=total-std, ymax=total+std), width=.1) +
# geom_hline(yintercept="mean", linetype="dashed", color = "red") +
geom_line() +
geom_line(stat = "hline", yintercept = "mean", aes(colour = ano))
geom_point() +
facet_grid(ano ~.) +
labs(title="Gastos - alimentação", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
plt <- ggplot(totais, aes(x=mes, y=total, group=tipo, colour=tipo))
(plt +  geom_line() + geom_point() +
scale_colour_manual(values = getPalette(colourCount))+
facet_grid(ano ~.) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
# guides(fill=FALSE)
)
str(totais)
totais.alim <- totais[totais$tipo=="alimentação", ]
plt.alim <- ggplot(totais.alim,
aes(x=mes, y=total, colour=ano, group=ano)) +
# geom_errorbar(aes(ymin=total-std, ymax=total+std), width=.1) +
# geom_hline(yintercept="mean", linetype="dashed", color = "red") +
geom_line() +
geom_line(stat = "hline", yintercept = "mean", aes(colour = ano))
geom_point() +
facet_grid(ano ~.) +
labs(title="Gastos - alimentação", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
plt.alim <- ggplot(totais.alim, aes(x=mes, y=total, group=ano, colour=ano))
(plt +  geom_line() + geom_point() +
facet_grid(ano ~.) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
plt.alim + geom_line(stat = "hline", yintercept = "mean", aes(colour = group))
plt.alim + geom_hline(yintercept = "mean", aes(colour = group))
plt.alim + geom_hline(yintercept = "mean", aes(colour = ano))
dt <- data.table(totais.alim.st)
dt <- data.table(totais.alim)
totais.alim <- totais[totais$tipo=="alimentação", ]
dt[, average := mean(total), by = ano]
View(dt)
dt[, desvio := sd(total), by = ano]
dt[, desvio := sd(total), by = ano]
dt[, media := mean(total), by = ano]
dt[, desvio := sd(total), by = ano]
View(dt)
plt.alim <- ggplot(dt, aes(x=mes, y=total, group=ano, colour=ano))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
# facet_grid(ano ~.) +
facet_grid(.~ ano,space="free",scales="free_x") +
geom_segment(aes(x = mes, y = media, yend = media, group = ano, colour = ano)) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
# facet_grid(ano ~.) +
facet_grid(.~ ano,space="free",scales="free_x") +
geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
# facet_grid(ano ~.) +
facet_grid(ano ~ .,space="free",scales="free_x") +
geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar") +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
plt.alim + geom_hline(yintercept = "mean", aes(colour = ano))
plt.alim + geom_hline(yintercept = "media", aes(colour = ano))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_hline(yintercept = "media", aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
plt.alim <- ggplot(dt, aes(x=mes, y=total, group=ano, colour=ano))
plt.alim <- ggplot(dt, aes(x=mes, y=total, group=ano, colour=ano, yintercept = media))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
totais.alim <- totais[totais$tipo=="alimentação", ]
dt <- data.table(totais.alim)
dt[, media := mean(total), by = ano]
dt[, desvio := sd(total), by = ano]
View(dt)
plt.alim <- ggplot(dt, aes(x=mes, y=total, group=ano, colour=ano))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth()
# geom_errorbar(aes(ymin=len-se, ymax=len+se), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth() +
# geom_errorbar(aes(ymin=len-se, ymax=len+se), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(color="black", type=2) +
geom_errorbar(aes(ymin=total-desvio, ymax=total+desvio), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
?geom_smooth()
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2) +
geom_errorbar(aes(ymin=total-desvio, ymax=total+desvio), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
?geom_smooth()
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.3) +
geom_errorbar(aes(ymin=total-desvio, ymax=total+desvio), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.1) +
geom_errorbar(aes(ymin=total-desvio, ymax=total+desvio), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
plt.alim <- ggplot(totais.alim, aes(x=mes, y=total, group=ano, colour=ano))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.1) +
geom_errorbar(aes(ymin=total-desvio, ymax=total+desvio), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
plt.alim <- ggplot(dt, aes(x=mes, y=total, group=ano, colour=ano))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.1) +
geom_errorbar(aes(ymin=total-desvio, ymax=total+desvio), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
dt[, erro := desvio/sqrt(length(total)), by = ano]
View(dt)
plt.alim <- ggplot(dt, aes(x=mes, y=total, group=ano, colour=ano))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.1, se=FALSE) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
dev.copy(png, file="plot-alim.png")
dev.off()
dt[, media := mean(total), by = c(tipo,ano)]
dt <- data.table(totais)
dt[, media := mean(total), by = c(tipo,ano)]
View(dadosFil)
View(dadosFil)
dt <- data.table(dadosFil)
dt[, media := mean(total), by = list(tipo,ano,mes)]
dt[, total := mean(valor), by = list(tipo,ano,mes)]
View(dt)
dt[, total := sum(valor), by = list(tipo,ano,mes)]
View(dt)
dt[, media := mean(total), by = list(tipo,ano)]
dt[, desvio := sd(total), by = list(tipo,ano)]
dt[, erro := desvio/sqrt(length(total)), by = list(tipo,ano)]
View(dt)
plt.alim <- ggplot(dt[dt$tipo=="alimentação",], aes(x=mes, y=total, group=ano, colour=ano))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
View(dt)
dt <- data.table(dadosFil)
dt[, total := sum(valor), by = list(tipo,ano,mes)]
dt[, media := mean(total), by = list(tipo,ano)]
dt[, desvio := sd(total), by = list(tipo,ano)]
dt.alim <- dt[dt$tipo=="alimentação",]
View(dt.alim)
dt.alim[, erro := desvio/sqrt(length(total)), by = list(ano)]
View(dt.alim)
View(totais.st)
View(totais.alim.st)
View(totais.alim)
dt.alim[, erro := desvio/sqrt(length(unique(total))), by = list(ano)]
View(dt.alim)
plt.alim <- ggplot(dt.alim, aes(x=mes, y=total, group=ano, colour=ano))
(plt.alim +  geom_line() + geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
# geom_point() +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
?geom_point()
(plt.alim +  geom_line() +
geom_point(size=0.1, alpha=0.01) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
# geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
geom_point(size=0.1, alpha=0.1) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(yintercept = media, aes(colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
geom_point(size=0.1, alpha=0.1) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
geom_point(size=0.1, alpha=0.1) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano, linetype=3)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
geom_point(size=0.1, alpha=0.1) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano)) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
geom_point(size=0.1, alpha=0.1) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=2, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano), linetype=3) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
geom_point(size=0.1, alpha=0.1) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=3, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano), linetype=2) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
geom_point(size=0.5, alpha=0.1) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=3, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano), linetype=2) +
# facet_grid(ano ~ .,space="free",scales="free_x") +
# geom_segment(aes(x = mes, xend = mes, y = media, yend = media, group = ano, colour = ano)) +
# stat_summary(fun.y = "mean", fun.ymin = "mean", fun.ymax= "mean", size= 0.3, geom = "crossbar", group=ano) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
(plt.alim +  geom_line() +
geom_point(size=0.5, alpha=0.5) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=3, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano), linetype=2) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
dev.copy(png, file="plot-alim.png")
dev.off()
dt.pag <- dt[dt$tipo=="pagamentos",]
dt.pag[, erro := desvio/sqrt(length(unique(total))), by = list(ano)]
plt.pag <- ggplot(dt.pag, aes(x=mes, y=total, group=ano, colour=ano))
(plt.pag +  geom_line() +
geom_point(size=0.5, alpha=0.5) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=3, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano), linetype=2) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
dev.copy(png, file="plot-pag.png")
dev.off()
dt.cor <- dt[dt$tipo=="corolla",]
dt.cor[, erro := desvio/sqrt(length(unique(total))), by = list(ano)]
plt.cor <- ggplot(dt.cor, aes(x=mes, y=total, group=ano, colour=ano))
(plt.cor +  geom_line() +
geom_point(size=0.5, alpha=0.5) +
facet_grid(ano ~.) +
geom_smooth(colour="black", linetype=3, alpha=0.2) +
geom_errorbar(aes(ymin=total-erro, ymax=total+erro), width=.1) +
geom_hline(aes(yintercept = media, colour = ano), linetype=2) +
labs(title="Gastos por categoria", y="Total (R$)") +
theme(plot.title = element_text(hjust = 0.5))
)
dev.copy(png, file="plot-cor.png")
dev.off()
